{"ast":null,"code":"import secondMenu from './second-menu.vue';\nexport default {\n  components: {\n    secondMenu\n  },\n  props: ['imgSrc', 'name', 'openImgSrc', 'userKey', 'firstMenuKey', 'ifClick'],\n  data() {\n    return {\n      info: [{\n        \"userKey\": 1,\n        \"firstMenuKey\": 1,\n        \"secondMenuKey\": 1,\n        \"name\": \"ALL\",\n        \"ifLight\": false\n      }, {\n        \"userKey\": 1,\n        \"firstMenuKey\": 1,\n        \"secondMenuKey\": 2,\n        \"name\": \"四级词汇\",\n        \"ifLight\": false\n      }, {\n        \"userKey\": 1,\n        \"firstMenuKey\": 1,\n        \"secondMenuKey\": 3,\n        \"name\": \"六级词汇\",\n        \"ifLight\": false\n      }, {\n        \"userKey\": 1,\n        \"firstMenuKey\": 1,\n        \"secondMenuKey\": 4,\n        \"name\": \"考研词汇\",\n        \"ifLight\": false\n      }],\n      lastClick: -1,\n      ifOpen: false,\n      nowPic: \"\"\n    };\n  },\n  methods: {\n    clickNumMethod(keyValue) {\n      if (this.lastClick != -1) this.info[this.lastClick - 1].ifLight = false;\n      this.lastClick = keyValue;\n      this.info[keyValue - 1].ifLight = true;\n      // 以下是用来处理焦点在一级菜单但用户点击另一个二级菜单所出现的问题\n      if (!this.ifClick) this.$emit(\"ifClick\", this.firstMenuKey);\n    },\n    flipArrow() {\n      let ele = this.$refs.arrr;\n      if (this.ifOpen) ele.style.transform = \"rotate(0deg)\";else ele.style.transform = \"rotate(-90deg)\";\n    },\n    changeMenuImg() {\n      if (this.ifOpen) this.nowPic = this.openImgSrc;else this.nowPic = this.imgSrc;\n    },\n    OpenSecondMenu() {\n      this.ifOpen = !this.ifOpen;\n      this.flipArrow();\n      this.changeMenuImg();\n      // 解决用户从另一个一级菜单处关闭本已经打开菜单所出现的颜色问题\n      if (!this.ifOpen) return;\n      this.$emit(\"ifClick\", this.firstMenuKey);\n    }\n  },\n  mounted() {\n    this.nowPic = this.imgSrc;\n  },\n  watch: {\n    ifClick(newValue) {\n      let ele = this.$refs.name;\n      if (newValue) {\n        ele.style.color = \"#DB8850\";\n        ele.style.fontWeight = \"700\";\n      } else {\n        ele.style.color = \"#A8A8AC\";\n        ele.style.fontWeight = \"500\";\n      }\n    }\n  }\n};","map":{"version":3,"names":["secondMenu","components","props","data","info","lastClick","ifOpen","nowPic","methods","clickNumMethod","keyValue","ifLight","ifClick","$emit","firstMenuKey","flipArrow","ele","$refs","arrr","style","transform","changeMenuImg","openImgSrc","imgSrc","OpenSecondMenu","mounted","watch","newValue","name","color","fontWeight"],"sources":["src/components/first-menu.vue"],"sourcesContent":["<template>\r\n    <div class=\"area\">\r\n        <div class=\"top\" @click=\"OpenSecondMenu\">\r\n            <img class=\"img1\" :src=\"nowPic\" ref=\"iimg\">\r\n            <div class=\"name\" ref=\"name\">{{ name }}</div>\r\n            <img class=\"img2\" src=\"@/assets/arrow.png\" ref=\"arrr\">           \r\n        </div>\r\n        <div class=\"bottom\" v-if=\"ifOpen\">\r\n            <div v-for='pr in info' :key=\"pr.secondMenuKey\" >\r\n                <secondMenu \r\n                    :menukey=\"pr.secondMenuKey\" @ifClick=\"clickNumMethod\" :light=\"pr.ifLight\">\r\n                    {{ pr.name }}\r\n                </secondMenu>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport secondMenu from './second-menu.vue'\r\nexport default {\r\n    components: {secondMenu},\r\n    props : ['imgSrc', 'name', 'openImgSrc', 'userKey', 'firstMenuKey', 'ifClick'],\r\n    data() {\r\n        return {\r\n            info:[\r\n                {\"userKey\": 1, \"firstMenuKey\": 1, \"secondMenuKey\": 1, \"name\": \"ALL\", \"ifLight\": false},\r\n                {\"userKey\": 1, \"firstMenuKey\": 1, \"secondMenuKey\": 2, \"name\": \"四级词汇\", \"ifLight\": false},\r\n                {\"userKey\": 1, \"firstMenuKey\": 1, \"secondMenuKey\": 3, \"name\": \"六级词汇\", \"ifLight\": false},\r\n                {\"userKey\": 1, \"firstMenuKey\": 1, \"secondMenuKey\": 4, \"name\": \"考研词汇\", \"ifLight\": false}\r\n            ],\r\n            lastClick : -1,\r\n            ifOpen : false,\r\n            nowPic : \"\"\r\n        }\r\n    },\r\n    methods: {\r\n        clickNumMethod(keyValue) {\r\n            if(this.lastClick != -1)\r\n                this.info[this.lastClick - 1].ifLight = false\r\n            this.lastClick = keyValue\r\n            this.info[keyValue - 1].ifLight = true\r\n            // 以下是用来处理焦点在一级菜单但用户点击另一个二级菜单所出现的问题\r\n            if(!this.ifClick)\r\n                this.$emit(\"ifClick\", this.firstMenuKey)\r\n                \r\n        },\r\n        flipArrow() {\r\n            let ele = this.$refs.arrr\r\n            if(this.ifOpen)\r\n                ele.style.transform = \"rotate(0deg)\"\r\n            else\r\n                ele.style.transform = \"rotate(-90deg)\"\r\n        },\r\n        changeMenuImg() {\r\n            if(this.ifOpen) this.nowPic = this.openImgSrc\r\n            else this.nowPic = this.imgSrc\r\n        },\r\n        OpenSecondMenu() {\r\n            this.ifOpen = ! this.ifOpen\r\n            this.flipArrow()\r\n            this.changeMenuImg()\r\n            // 解决用户从另一个一级菜单处关闭本已经打开菜单所出现的颜色问题\r\n            if(! this.ifOpen) return\r\n            this.$emit(\"ifClick\", this.firstMenuKey)\r\n        }\r\n    },\r\n    mounted() {\r\n        this.nowPic = this.imgSrc\r\n    },\r\n    watch: {\r\n        ifClick(newValue){\r\n            let ele = this.$refs.name\r\n            if(newValue){\r\n                ele.style.color = \"#DB8850\"\r\n                ele.style.fontWeight = \"700\"\r\n            }else{\r\n                ele.style.color = \"#A8A8AC\"\r\n                ele.style.fontWeight = \"500\"\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    *{\r\n        user-select: none;\r\n    }\r\n    .top{\r\n        width: 170px;\r\n        height: 21px;\r\n        margin-top: 15px;\r\n        margin-left: 15px;\r\n    }\r\n    .img1{\r\n        width: 21px;\r\n        height: 21px;\r\n        float: left;\r\n        background-size: 100% 100%;\r\n    }\r\n    .name{\r\n        width: 77.7px;\r\n        height: 20.3px;\r\n        display: flex;\r\n        /* justify-content: center; */\r\n        align-items: center;\r\n        color: #A8A8AC;\r\n        font-size: 14px;\r\n        float: left;\r\n        margin-left: 16px;\r\n    }\r\n    .bottom{\r\n        margin-top: 10px;\r\n    }\r\n    .img2{\r\n        width: 14px;\r\n        height: 14px;\r\n        float: right;\r\n        background-size: 100% 100%;\r\n        transform: rotate(-90deg);\r\n        margin-top: 5.6px;\r\n        margin-right: 7px;\r\n    }\r\n</style>"],"mappings":"AAmBA,OAAAA,UAAA;AACA;EACAC,UAAA;IAAAD;EAAA;EACAE,KAAA;EACAC,KAAA;IACA;MACAC,IAAA,GACA;QAAA;QAAA;QAAA;QAAA;QAAA;MAAA,GACA;QAAA;QAAA;QAAA;QAAA;QAAA;MAAA,GACA;QAAA;QAAA;QAAA;QAAA;QAAA;MAAA,GACA;QAAA;QAAA;QAAA;QAAA;QAAA;MAAA,EACA;MACAC,SAAA;MACAC,MAAA;MACAC,MAAA;IACA;EACA;EACAC,OAAA;IACAC,eAAAC,QAAA;MACA,SAAAL,SAAA,QACA,KAAAD,IAAA,MAAAC,SAAA,MAAAM,OAAA;MACA,KAAAN,SAAA,GAAAK,QAAA;MACA,KAAAN,IAAA,CAAAM,QAAA,MAAAC,OAAA;MACA;MACA,UAAAC,OAAA,EACA,KAAAC,KAAA,iBAAAC,YAAA;IAEA;IACAC,UAAA;MACA,IAAAC,GAAA,QAAAC,KAAA,CAAAC,IAAA;MACA,SAAAZ,MAAA,EACAU,GAAA,CAAAG,KAAA,CAAAC,SAAA,uBAEAJ,GAAA,CAAAG,KAAA,CAAAC,SAAA;IACA;IACAC,cAAA;MACA,SAAAf,MAAA,OAAAC,MAAA,QAAAe,UAAA,MACA,KAAAf,MAAA,QAAAgB,MAAA;IACA;IACAC,eAAA;MACA,KAAAlB,MAAA,SAAAA,MAAA;MACA,KAAAS,SAAA;MACA,KAAAM,aAAA;MACA;MACA,UAAAf,MAAA;MACA,KAAAO,KAAA,iBAAAC,YAAA;IACA;EACA;EACAW,QAAA;IACA,KAAAlB,MAAA,QAAAgB,MAAA;EACA;EACAG,KAAA;IACAd,QAAAe,QAAA;MACA,IAAAX,GAAA,QAAAC,KAAA,CAAAW,IAAA;MACA,IAAAD,QAAA;QACAX,GAAA,CAAAG,KAAA,CAAAU,KAAA;QACAb,GAAA,CAAAG,KAAA,CAAAW,UAAA;MACA;QACAd,GAAA,CAAAG,KAAA,CAAAU,KAAA;QACAb,GAAA,CAAAG,KAAA,CAAAW,UAAA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}