{"ast":null,"code":"/**\n * @fileoverview Rule to disallow certain object properties\n * @author Will Klein & Eli White\n */\n\n\"use strict\";\n\nconst astUtils = require(\"./utils/ast-utils\");\n\n//------------------------------------------------------------------------------\n// Rule Definition\n//------------------------------------------------------------------------------\n\nmodule.exports = {\n  meta: {\n    type: \"suggestion\",\n    docs: {\n      description: \"disallow certain properties on certain objects\",\n      category: \"Best Practices\",\n      recommended: false,\n      url: \"https://eslint.org/docs/rules/no-restricted-properties\"\n    },\n    schema: {\n      type: \"array\",\n      items: {\n        anyOf: [\n        // `object` and `property` are both optional, but at least one of them must be provided.\n        {\n          type: \"object\",\n          properties: {\n            object: {\n              type: \"string\"\n            },\n            property: {\n              type: \"string\"\n            },\n            message: {\n              type: \"string\"\n            }\n          },\n          additionalProperties: false,\n          required: [\"object\"]\n        }, {\n          type: \"object\",\n          properties: {\n            object: {\n              type: \"string\"\n            },\n            property: {\n              type: \"string\"\n            },\n            message: {\n              type: \"string\"\n            }\n          },\n          additionalProperties: false,\n          required: [\"property\"]\n        }]\n      },\n      uniqueItems: true\n    },\n    messages: {\n      // eslint-disable-next-line eslint-plugin/report-message-format\n      restrictedObjectProperty: \"'{{objectName}}.{{propertyName}}' is restricted from being used.{{message}}\",\n      // eslint-disable-next-line eslint-plugin/report-message-format\n      restrictedProperty: \"'{{propertyName}}' is restricted from being used.{{message}}\"\n    }\n  },\n  create(context) {\n    const restrictedCalls = context.options;\n    if (restrictedCalls.length === 0) {\n      return {};\n    }\n    const restrictedProperties = new Map();\n    const globallyRestrictedObjects = new Map();\n    const globallyRestrictedProperties = new Map();\n    restrictedCalls.forEach(option => {\n      const objectName = option.object;\n      const propertyName = option.property;\n      if (typeof objectName === \"undefined\") {\n        globallyRestrictedProperties.set(propertyName, {\n          message: option.message\n        });\n      } else if (typeof propertyName === \"undefined\") {\n        globallyRestrictedObjects.set(objectName, {\n          message: option.message\n        });\n      } else {\n        if (!restrictedProperties.has(objectName)) {\n          restrictedProperties.set(objectName, new Map());\n        }\n        restrictedProperties.get(objectName).set(propertyName, {\n          message: option.message\n        });\n      }\n    });\n\n    /**\n     * Checks to see whether a property access is restricted, and reports it if so.\n     * @param {ASTNode} node The node to report\n     * @param {string} objectName The name of the object\n     * @param {string} propertyName The name of the property\n     * @returns {undefined}\n     */\n    function checkPropertyAccess(node, objectName, propertyName) {\n      if (propertyName === null) {\n        return;\n      }\n      const matchedObject = restrictedProperties.get(objectName);\n      const matchedObjectProperty = matchedObject ? matchedObject.get(propertyName) : globallyRestrictedObjects.get(objectName);\n      const globalMatchedProperty = globallyRestrictedProperties.get(propertyName);\n      if (matchedObjectProperty) {\n        const message = matchedObjectProperty.message ? ` ${matchedObjectProperty.message}` : \"\";\n        context.report({\n          node,\n          messageId: \"restrictedObjectProperty\",\n          data: {\n            objectName,\n            propertyName,\n            message\n          }\n        });\n      } else if (globalMatchedProperty) {\n        const message = globalMatchedProperty.message ? ` ${globalMatchedProperty.message}` : \"\";\n        context.report({\n          node,\n          messageId: \"restrictedProperty\",\n          data: {\n            propertyName,\n            message\n          }\n        });\n      }\n    }\n\n    /**\n     * Checks property accesses in a destructuring assignment expression, e.g. `var foo; ({foo} = bar);`\n     * @param {ASTNode} node An AssignmentExpression or AssignmentPattern node\n     * @returns {undefined}\n     */\n    function checkDestructuringAssignment(node) {\n      if (node.right.type === \"Identifier\") {\n        const objectName = node.right.name;\n        if (node.left.type === \"ObjectPattern\") {\n          node.left.properties.forEach(property => {\n            checkPropertyAccess(node.left, objectName, astUtils.getStaticPropertyName(property));\n          });\n        }\n      }\n    }\n    return {\n      MemberExpression(node) {\n        checkPropertyAccess(node, node.object && node.object.name, astUtils.getStaticPropertyName(node));\n      },\n      VariableDeclarator(node) {\n        if (node.init && node.init.type === \"Identifier\") {\n          const objectName = node.init.name;\n          if (node.id.type === \"ObjectPattern\") {\n            node.id.properties.forEach(property => {\n              checkPropertyAccess(node.id, objectName, astUtils.getStaticPropertyName(property));\n            });\n          }\n        }\n      },\n      AssignmentExpression: checkDestructuringAssignment,\n      AssignmentPattern: checkDestructuringAssignment\n    };\n  }\n};","map":{"version":3,"names":["astUtils","require","module","exports","meta","type","docs","description","category","recommended","url","schema","items","anyOf","properties","object","property","message","additionalProperties","required","uniqueItems","messages","restrictedObjectProperty","restrictedProperty","create","context","restrictedCalls","options","length","restrictedProperties","Map","globallyRestrictedObjects","globallyRestrictedProperties","forEach","option","objectName","propertyName","set","has","get","checkPropertyAccess","node","matchedObject","matchedObjectProperty","globalMatchedProperty","report","messageId","data","checkDestructuringAssignment","right","name","left","getStaticPropertyName","MemberExpression","VariableDeclarator","init","id","AssignmentExpression","AssignmentPattern"],"sources":["D:/Project/YM~Cloud/cloud-front/node_modules/eslint/lib/rules/no-restricted-properties.js"],"sourcesContent":["/**\n * @fileoverview Rule to disallow certain object properties\n * @author Will Klein & Eli White\n */\n\n\"use strict\";\n\nconst astUtils = require(\"./utils/ast-utils\");\n\n//------------------------------------------------------------------------------\n// Rule Definition\n//------------------------------------------------------------------------------\n\nmodule.exports = {\n    meta: {\n        type: \"suggestion\",\n\n        docs: {\n            description: \"disallow certain properties on certain objects\",\n            category: \"Best Practices\",\n            recommended: false,\n            url: \"https://eslint.org/docs/rules/no-restricted-properties\"\n        },\n\n        schema: {\n            type: \"array\",\n            items: {\n                anyOf: [ // `object` and `property` are both optional, but at least one of them must be provided.\n                    {\n                        type: \"object\",\n                        properties: {\n                            object: {\n                                type: \"string\"\n                            },\n                            property: {\n                                type: \"string\"\n                            },\n                            message: {\n                                type: \"string\"\n                            }\n                        },\n                        additionalProperties: false,\n                        required: [\"object\"]\n                    },\n                    {\n                        type: \"object\",\n                        properties: {\n                            object: {\n                                type: \"string\"\n                            },\n                            property: {\n                                type: \"string\"\n                            },\n                            message: {\n                                type: \"string\"\n                            }\n                        },\n                        additionalProperties: false,\n                        required: [\"property\"]\n                    }\n                ]\n            },\n            uniqueItems: true\n        },\n\n        messages: {\n            // eslint-disable-next-line eslint-plugin/report-message-format\n            restrictedObjectProperty: \"'{{objectName}}.{{propertyName}}' is restricted from being used.{{message}}\",\n            // eslint-disable-next-line eslint-plugin/report-message-format\n            restrictedProperty: \"'{{propertyName}}' is restricted from being used.{{message}}\"\n        }\n    },\n\n    create(context) {\n        const restrictedCalls = context.options;\n\n        if (restrictedCalls.length === 0) {\n            return {};\n        }\n\n        const restrictedProperties = new Map();\n        const globallyRestrictedObjects = new Map();\n        const globallyRestrictedProperties = new Map();\n\n        restrictedCalls.forEach(option => {\n            const objectName = option.object;\n            const propertyName = option.property;\n\n            if (typeof objectName === \"undefined\") {\n                globallyRestrictedProperties.set(propertyName, { message: option.message });\n            } else if (typeof propertyName === \"undefined\") {\n                globallyRestrictedObjects.set(objectName, { message: option.message });\n            } else {\n                if (!restrictedProperties.has(objectName)) {\n                    restrictedProperties.set(objectName, new Map());\n                }\n\n                restrictedProperties.get(objectName).set(propertyName, {\n                    message: option.message\n                });\n            }\n        });\n\n        /**\n         * Checks to see whether a property access is restricted, and reports it if so.\n         * @param {ASTNode} node The node to report\n         * @param {string} objectName The name of the object\n         * @param {string} propertyName The name of the property\n         * @returns {undefined}\n         */\n        function checkPropertyAccess(node, objectName, propertyName) {\n            if (propertyName === null) {\n                return;\n            }\n            const matchedObject = restrictedProperties.get(objectName);\n            const matchedObjectProperty = matchedObject ? matchedObject.get(propertyName) : globallyRestrictedObjects.get(objectName);\n            const globalMatchedProperty = globallyRestrictedProperties.get(propertyName);\n\n            if (matchedObjectProperty) {\n                const message = matchedObjectProperty.message ? ` ${matchedObjectProperty.message}` : \"\";\n\n                context.report({\n                    node,\n                    messageId: \"restrictedObjectProperty\",\n                    data: {\n                        objectName,\n                        propertyName,\n                        message\n                    }\n                });\n            } else if (globalMatchedProperty) {\n                const message = globalMatchedProperty.message ? ` ${globalMatchedProperty.message}` : \"\";\n\n                context.report({\n                    node,\n                    messageId: \"restrictedProperty\",\n                    data: {\n                        propertyName,\n                        message\n                    }\n                });\n            }\n        }\n\n        /**\n         * Checks property accesses in a destructuring assignment expression, e.g. `var foo; ({foo} = bar);`\n         * @param {ASTNode} node An AssignmentExpression or AssignmentPattern node\n         * @returns {undefined}\n         */\n        function checkDestructuringAssignment(node) {\n            if (node.right.type === \"Identifier\") {\n                const objectName = node.right.name;\n\n                if (node.left.type === \"ObjectPattern\") {\n                    node.left.properties.forEach(property => {\n                        checkPropertyAccess(node.left, objectName, astUtils.getStaticPropertyName(property));\n                    });\n                }\n            }\n        }\n\n        return {\n            MemberExpression(node) {\n                checkPropertyAccess(node, node.object && node.object.name, astUtils.getStaticPropertyName(node));\n            },\n            VariableDeclarator(node) {\n                if (node.init && node.init.type === \"Identifier\") {\n                    const objectName = node.init.name;\n\n                    if (node.id.type === \"ObjectPattern\") {\n                        node.id.properties.forEach(property => {\n                            checkPropertyAccess(node.id, objectName, astUtils.getStaticPropertyName(property));\n                        });\n                    }\n                }\n            },\n            AssignmentExpression: checkDestructuringAssignment,\n            AssignmentPattern: checkDestructuringAssignment\n        };\n    }\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}