{"ast":null,"code":"/**\n * @fileoverview `Map` to load rules lazily.\n * @author Toru Nagashima <https://github.com/mysticatea>\n */\n\"use strict\";\n\nconst debug = require(\"debug\")(\"eslint:rules\");\n\n/** @typedef {import(\"./types\").Rule} Rule */\n\n/**\n * The `Map` object that loads each rule when it's accessed.\n * @example\n * const rules = new LazyLoadingRuleMap([\n *     [\"eqeqeq\", () => require(\"eqeqeq\")],\n *     [\"semi\", () => require(\"semi\")],\n *     [\"no-unused-vars\", () => require(\"no-unused-vars\")],\n * ])\n *\n * rules.get(\"semi\") // call `() => require(\"semi\")` here.\n *\n * @extends {Map<string, () => Rule>}\n */\nclass LazyLoadingRuleMap extends Map {\n  /**\n   * Initialize this map.\n   * @param {Array<[string, function(): Rule]>} loaders The rule loaders.\n   */\n  constructor(loaders) {\n    let remaining = loaders.length;\n    super(debug.enabled ? loaders.map(([ruleId, load]) => {\n      let cache = null;\n      return [ruleId, () => {\n        if (!cache) {\n          debug(\"Loading rule %o (remaining=%d)\", ruleId, --remaining);\n          cache = load();\n        }\n        return cache;\n      }];\n    }) : loaders);\n\n    // `super(...iterable)` uses `this.set()`, so disable it here.\n    Object.defineProperty(LazyLoadingRuleMap.prototype, \"set\", {\n      configurable: true,\n      value: void 0\n    });\n  }\n\n  /**\n   * Get a rule.\n   * Each rule will be loaded on the first access.\n   * @param {string} ruleId The rule ID to get.\n   * @returns {Rule|undefined} The rule.\n   */\n  get(ruleId) {\n    const load = super.get(ruleId);\n    return load && load();\n  }\n\n  /**\n   * Iterate rules.\n   * @returns {IterableIterator<Rule>} Rules.\n   */\n  *values() {\n    for (const load of super.values()) {\n      yield load();\n    }\n  }\n\n  /**\n   * Iterate rules.\n   * @returns {IterableIterator<[string, Rule]>} Rules.\n   */\n  *entries() {\n    for (const [ruleId, load] of super.entries()) {\n      yield [ruleId, load()];\n    }\n  }\n\n  /**\n   * Call a function with each rule.\n   * @param {Function} callbackFn The callback function.\n   * @param {any} [thisArg] The object to pass to `this` of the callback function.\n   * @returns {void}\n   */\n  forEach(callbackFn, thisArg) {\n    for (const [ruleId, load] of super.entries()) {\n      callbackFn.call(thisArg, load(), ruleId, this);\n    }\n  }\n}\n\n// Forbid mutation.\nObject.defineProperties(LazyLoadingRuleMap.prototype, {\n  clear: {\n    configurable: true,\n    value: void 0\n  },\n  delete: {\n    configurable: true,\n    value: void 0\n  },\n  [Symbol.iterator]: {\n    configurable: true,\n    writable: true,\n    value: LazyLoadingRuleMap.prototype.entries\n  }\n});\nmodule.exports = {\n  LazyLoadingRuleMap\n};","map":{"version":3,"names":["debug","require","LazyLoadingRuleMap","Map","constructor","loaders","remaining","length","enabled","map","ruleId","load","cache","Object","defineProperty","prototype","configurable","value","get","values","entries","forEach","callbackFn","thisArg","call","defineProperties","clear","delete","Symbol","iterator","writable","module","exports"],"sources":["D:/Project/YM~Cloud/cloud-front/node_modules/eslint/lib/rules/utils/lazy-loading-rule-map.js"],"sourcesContent":["/**\n * @fileoverview `Map` to load rules lazily.\n * @author Toru Nagashima <https://github.com/mysticatea>\n */\n\"use strict\";\n\nconst debug = require(\"debug\")(\"eslint:rules\");\n\n/** @typedef {import(\"./types\").Rule} Rule */\n\n/**\n * The `Map` object that loads each rule when it's accessed.\n * @example\n * const rules = new LazyLoadingRuleMap([\n *     [\"eqeqeq\", () => require(\"eqeqeq\")],\n *     [\"semi\", () => require(\"semi\")],\n *     [\"no-unused-vars\", () => require(\"no-unused-vars\")],\n * ])\n *\n * rules.get(\"semi\") // call `() => require(\"semi\")` here.\n *\n * @extends {Map<string, () => Rule>}\n */\nclass LazyLoadingRuleMap extends Map {\n\n    /**\n     * Initialize this map.\n     * @param {Array<[string, function(): Rule]>} loaders The rule loaders.\n     */\n    constructor(loaders) {\n        let remaining = loaders.length;\n\n        super(\n            debug.enabled\n                ? loaders.map(([ruleId, load]) => {\n                    let cache = null;\n\n                    return [\n                        ruleId,\n                        () => {\n                            if (!cache) {\n                                debug(\"Loading rule %o (remaining=%d)\", ruleId, --remaining);\n                                cache = load();\n                            }\n                            return cache;\n                        }\n                    ];\n                })\n                : loaders\n        );\n\n        // `super(...iterable)` uses `this.set()`, so disable it here.\n        Object.defineProperty(LazyLoadingRuleMap.prototype, \"set\", {\n            configurable: true,\n            value: void 0\n        });\n    }\n\n    /**\n     * Get a rule.\n     * Each rule will be loaded on the first access.\n     * @param {string} ruleId The rule ID to get.\n     * @returns {Rule|undefined} The rule.\n     */\n    get(ruleId) {\n        const load = super.get(ruleId);\n\n        return load && load();\n    }\n\n    /**\n     * Iterate rules.\n     * @returns {IterableIterator<Rule>} Rules.\n     */\n    *values() {\n        for (const load of super.values()) {\n            yield load();\n        }\n    }\n\n    /**\n     * Iterate rules.\n     * @returns {IterableIterator<[string, Rule]>} Rules.\n     */\n    *entries() {\n        for (const [ruleId, load] of super.entries()) {\n            yield [ruleId, load()];\n        }\n    }\n\n    /**\n     * Call a function with each rule.\n     * @param {Function} callbackFn The callback function.\n     * @param {any} [thisArg] The object to pass to `this` of the callback function.\n     * @returns {void}\n     */\n    forEach(callbackFn, thisArg) {\n        for (const [ruleId, load] of super.entries()) {\n            callbackFn.call(thisArg, load(), ruleId, this);\n        }\n    }\n}\n\n// Forbid mutation.\nObject.defineProperties(LazyLoadingRuleMap.prototype, {\n    clear: { configurable: true, value: void 0 },\n    delete: { configurable: true, value: void 0 },\n    [Symbol.iterator]: {\n        configurable: true,\n        writable: true,\n        value: LazyLoadingRuleMap.prototype.entries\n    }\n});\n\nmodule.exports = { LazyLoadingRuleMap };\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA,YAAY;;AAEZ,MAAMA,KAAK,GAAGC,OAAO,CAAC,OAAO,CAAC,CAAC,cAAc,CAAC;;AAE9C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMC,kBAAkB,SAASC,GAAG,CAAC;EAEjC;AACJ;AACA;AACA;EACIC,WAAWA,CAACC,OAAO,EAAE;IACjB,IAAIC,SAAS,GAAGD,OAAO,CAACE,MAAM;IAE9B,KAAK,CACDP,KAAK,CAACQ,OAAO,GACPH,OAAO,CAACI,GAAG,CAAC,CAAC,CAACC,MAAM,EAAEC,IAAI,CAAC,KAAK;MAC9B,IAAIC,KAAK,GAAG,IAAI;MAEhB,OAAO,CACHF,MAAM,EACN,MAAM;QACF,IAAI,CAACE,KAAK,EAAE;UACRZ,KAAK,CAAC,gCAAgC,EAAEU,MAAM,EAAE,EAAEJ,SAAS,CAAC;UAC5DM,KAAK,GAAGD,IAAI,CAAC,CAAC;QAClB;QACA,OAAOC,KAAK;MAChB,CAAC,CACJ;IACL,CAAC,CAAC,GACAP,OACV,CAAC;;IAED;IACAQ,MAAM,CAACC,cAAc,CAACZ,kBAAkB,CAACa,SAAS,EAAE,KAAK,EAAE;MACvDC,YAAY,EAAE,IAAI;MAClBC,KAAK,EAAE,KAAK;IAChB,CAAC,CAAC;EACN;;EAEA;AACJ;AACA;AACA;AACA;AACA;EACIC,GAAGA,CAACR,MAAM,EAAE;IACR,MAAMC,IAAI,GAAG,KAAK,CAACO,GAAG,CAACR,MAAM,CAAC;IAE9B,OAAOC,IAAI,IAAIA,IAAI,CAAC,CAAC;EACzB;;EAEA;AACJ;AACA;AACA;EACI,CAACQ,MAAMA,CAAA,EAAG;IACN,KAAK,MAAMR,IAAI,IAAI,KAAK,CAACQ,MAAM,CAAC,CAAC,EAAE;MAC/B,MAAMR,IAAI,CAAC,CAAC;IAChB;EACJ;;EAEA;AACJ;AACA;AACA;EACI,CAACS,OAAOA,CAAA,EAAG;IACP,KAAK,MAAM,CAACV,MAAM,EAAEC,IAAI,CAAC,IAAI,KAAK,CAACS,OAAO,CAAC,CAAC,EAAE;MAC1C,MAAM,CAACV,MAAM,EAAEC,IAAI,CAAC,CAAC,CAAC;IAC1B;EACJ;;EAEA;AACJ;AACA;AACA;AACA;AACA;EACIU,OAAOA,CAACC,UAAU,EAAEC,OAAO,EAAE;IACzB,KAAK,MAAM,CAACb,MAAM,EAAEC,IAAI,CAAC,IAAI,KAAK,CAACS,OAAO,CAAC,CAAC,EAAE;MAC1CE,UAAU,CAACE,IAAI,CAACD,OAAO,EAAEZ,IAAI,CAAC,CAAC,EAAED,MAAM,EAAE,IAAI,CAAC;IAClD;EACJ;AACJ;;AAEA;AACAG,MAAM,CAACY,gBAAgB,CAACvB,kBAAkB,CAACa,SAAS,EAAE;EAClDW,KAAK,EAAE;IAAEV,YAAY,EAAE,IAAI;IAAEC,KAAK,EAAE,KAAK;EAAE,CAAC;EAC5CU,MAAM,EAAE;IAAEX,YAAY,EAAE,IAAI;IAAEC,KAAK,EAAE,KAAK;EAAE,CAAC;EAC7C,CAACW,MAAM,CAACC,QAAQ,GAAG;IACfb,YAAY,EAAE,IAAI;IAClBc,QAAQ,EAAE,IAAI;IACdb,KAAK,EAAEf,kBAAkB,CAACa,SAAS,CAACK;EACxC;AACJ,CAAC,CAAC;AAEFW,MAAM,CAACC,OAAO,GAAG;EAAE9B;AAAmB,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}