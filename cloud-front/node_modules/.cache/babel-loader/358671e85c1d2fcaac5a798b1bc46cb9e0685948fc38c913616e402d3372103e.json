{"ast":null,"code":"/**\n * @fileoverview Rule to flag when initializing to undefined\n * @author Ilya Volodin\n */\n\n\"use strict\";\n\nconst astUtils = require(\"./utils/ast-utils\");\n\n//------------------------------------------------------------------------------\n// Rule Definition\n//------------------------------------------------------------------------------\n\nmodule.exports = {\n  meta: {\n    type: \"suggestion\",\n    docs: {\n      description: \"disallow initializing variables to `undefined`\",\n      category: \"Variables\",\n      recommended: false,\n      url: \"https://eslint.org/docs/rules/no-undef-init\"\n    },\n    schema: [],\n    fixable: \"code\",\n    messages: {\n      unnecessaryUndefinedInit: \"It's not necessary to initialize '{{name}}' to undefined.\"\n    }\n  },\n  create(context) {\n    const sourceCode = context.getSourceCode();\n    return {\n      VariableDeclarator(node) {\n        const name = sourceCode.getText(node.id),\n          init = node.init && node.init.name,\n          scope = context.getScope(),\n          undefinedVar = astUtils.getVariableByName(scope, \"undefined\"),\n          shadowed = undefinedVar && undefinedVar.defs.length > 0,\n          lastToken = sourceCode.getLastToken(node);\n        if (init === \"undefined\" && node.parent.kind !== \"const\" && !shadowed) {\n          context.report({\n            node,\n            messageId: \"unnecessaryUndefinedInit\",\n            data: {\n              name\n            },\n            fix(fixer) {\n              if (node.parent.kind === \"var\") {\n                return null;\n              }\n              if (node.id.type === \"ArrayPattern\" || node.id.type === \"ObjectPattern\") {\n                // Don't fix destructuring assignment to `undefined`.\n                return null;\n              }\n              if (sourceCode.commentsExistBetween(node.id, lastToken)) {\n                return null;\n              }\n              return fixer.removeRange([node.id.range[1], node.range[1]]);\n            }\n          });\n        }\n      }\n    };\n  }\n};","map":{"version":3,"names":["astUtils","require","module","exports","meta","type","docs","description","category","recommended","url","schema","fixable","messages","unnecessaryUndefinedInit","create","context","sourceCode","getSourceCode","VariableDeclarator","node","name","getText","id","init","scope","getScope","undefinedVar","getVariableByName","shadowed","defs","length","lastToken","getLastToken","parent","kind","report","messageId","data","fix","fixer","commentsExistBetween","removeRange","range"],"sources":["D:/Project/YM~Cloud/cloud-front/node_modules/eslint/lib/rules/no-undef-init.js"],"sourcesContent":["/**\n * @fileoverview Rule to flag when initializing to undefined\n * @author Ilya Volodin\n */\n\n\"use strict\";\n\nconst astUtils = require(\"./utils/ast-utils\");\n\n//------------------------------------------------------------------------------\n// Rule Definition\n//------------------------------------------------------------------------------\n\nmodule.exports = {\n    meta: {\n        type: \"suggestion\",\n\n        docs: {\n            description: \"disallow initializing variables to `undefined`\",\n            category: \"Variables\",\n            recommended: false,\n            url: \"https://eslint.org/docs/rules/no-undef-init\"\n        },\n\n        schema: [],\n        fixable: \"code\",\n\n        messages: {\n            unnecessaryUndefinedInit: \"It's not necessary to initialize '{{name}}' to undefined.\"\n        }\n    },\n\n    create(context) {\n\n        const sourceCode = context.getSourceCode();\n\n        return {\n\n            VariableDeclarator(node) {\n                const name = sourceCode.getText(node.id),\n                    init = node.init && node.init.name,\n                    scope = context.getScope(),\n                    undefinedVar = astUtils.getVariableByName(scope, \"undefined\"),\n                    shadowed = undefinedVar && undefinedVar.defs.length > 0,\n                    lastToken = sourceCode.getLastToken(node);\n\n                if (init === \"undefined\" && node.parent.kind !== \"const\" && !shadowed) {\n                    context.report({\n                        node,\n                        messageId: \"unnecessaryUndefinedInit\",\n                        data: { name },\n                        fix(fixer) {\n                            if (node.parent.kind === \"var\") {\n                                return null;\n                            }\n\n                            if (node.id.type === \"ArrayPattern\" || node.id.type === \"ObjectPattern\") {\n\n                                // Don't fix destructuring assignment to `undefined`.\n                                return null;\n                            }\n\n                            if (sourceCode.commentsExistBetween(node.id, lastToken)) {\n                                return null;\n                            }\n\n                            return fixer.removeRange([node.id.range[1], node.range[1]]);\n                        }\n                    });\n                }\n            }\n        };\n\n    }\n};\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA,YAAY;;AAEZ,MAAMA,QAAQ,GAAGC,OAAO,CAAC,mBAAmB,CAAC;;AAE7C;AACA;AACA;;AAEAC,MAAM,CAACC,OAAO,GAAG;EACbC,IAAI,EAAE;IACFC,IAAI,EAAE,YAAY;IAElBC,IAAI,EAAE;MACFC,WAAW,EAAE,gDAAgD;MAC7DC,QAAQ,EAAE,WAAW;MACrBC,WAAW,EAAE,KAAK;MAClBC,GAAG,EAAE;IACT,CAAC;IAEDC,MAAM,EAAE,EAAE;IACVC,OAAO,EAAE,MAAM;IAEfC,QAAQ,EAAE;MACNC,wBAAwB,EAAE;IAC9B;EACJ,CAAC;EAEDC,MAAMA,CAACC,OAAO,EAAE;IAEZ,MAAMC,UAAU,GAAGD,OAAO,CAACE,aAAa,CAAC,CAAC;IAE1C,OAAO;MAEHC,kBAAkBA,CAACC,IAAI,EAAE;QACrB,MAAMC,IAAI,GAAGJ,UAAU,CAACK,OAAO,CAACF,IAAI,CAACG,EAAE,CAAC;UACpCC,IAAI,GAAGJ,IAAI,CAACI,IAAI,IAAIJ,IAAI,CAACI,IAAI,CAACH,IAAI;UAClCI,KAAK,GAAGT,OAAO,CAACU,QAAQ,CAAC,CAAC;UAC1BC,YAAY,GAAG3B,QAAQ,CAAC4B,iBAAiB,CAACH,KAAK,EAAE,WAAW,CAAC;UAC7DI,QAAQ,GAAGF,YAAY,IAAIA,YAAY,CAACG,IAAI,CAACC,MAAM,GAAG,CAAC;UACvDC,SAAS,GAAGf,UAAU,CAACgB,YAAY,CAACb,IAAI,CAAC;QAE7C,IAAII,IAAI,KAAK,WAAW,IAAIJ,IAAI,CAACc,MAAM,CAACC,IAAI,KAAK,OAAO,IAAI,CAACN,QAAQ,EAAE;UACnEb,OAAO,CAACoB,MAAM,CAAC;YACXhB,IAAI;YACJiB,SAAS,EAAE,0BAA0B;YACrCC,IAAI,EAAE;cAAEjB;YAAK,CAAC;YACdkB,GAAGA,CAACC,KAAK,EAAE;cACP,IAAIpB,IAAI,CAACc,MAAM,CAACC,IAAI,KAAK,KAAK,EAAE;gBAC5B,OAAO,IAAI;cACf;cAEA,IAAIf,IAAI,CAACG,EAAE,CAAClB,IAAI,KAAK,cAAc,IAAIe,IAAI,CAACG,EAAE,CAAClB,IAAI,KAAK,eAAe,EAAE;gBAErE;gBACA,OAAO,IAAI;cACf;cAEA,IAAIY,UAAU,CAACwB,oBAAoB,CAACrB,IAAI,CAACG,EAAE,EAAES,SAAS,CAAC,EAAE;gBACrD,OAAO,IAAI;cACf;cAEA,OAAOQ,KAAK,CAACE,WAAW,CAAC,CAACtB,IAAI,CAACG,EAAE,CAACoB,KAAK,CAAC,CAAC,CAAC,EAAEvB,IAAI,CAACuB,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;YAC/D;UACJ,CAAC,CAAC;QACN;MACJ;IACJ,CAAC;EAEL;AACJ,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}