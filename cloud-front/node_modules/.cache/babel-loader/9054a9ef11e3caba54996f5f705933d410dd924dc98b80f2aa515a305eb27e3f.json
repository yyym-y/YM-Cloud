{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport firstMenu from './first-menu.vue';\nexport default {\n  components: {\n    firstMenu\n  },\n  props: ['firstMenuInfos', \"secondMenuInfos\"],\n  data() {\n    return {\n      lastClick: {\n        \"father\": -1,\n        \"son\": -1,\n        \"static\": false\n      },\n      ifClick: [],\n      ifCloseSon: []\n    };\n  },\n  methods: {\n    // 以下四个函数均是为了解决点击颜色错乱的情况\n    open(num) {\n      this.ifClick[num - 1] = true;\n      this.ifCloseSon[num - 1] = false;\n    },\n    close(num) {\n      this.ifClick[num - 1] = false;\n      this.ifCloseSon[num - 1] = true;\n    },\n    init() {\n      for (let i = 0; i < this.firstMenuInfos.length; i++) {\n        this.ifClick[i] = false;\n        this.ifCloseSon[i] = true;\n      }\n      this.lastClick = {\n        \"father\": -1,\n        \"son\": -1,\n        \"static\": false\n      };\n    },\n    clickNumMethod(clickInfo) {\n      console.log(clickInfo);\n      if (!clickInfo.static) {\n        if (this.lastClick.father == clickInfo.father) this.init();\n        this.$forceUpdate();\n        return;\n      }\n      if (this.lastClick.father == -1) {\n        this.open(clickInfo.father);\n        this.lastClick = clickInfo;\n        this.$forceUpdate();\n        return;\n      }\n      if (this.lastClick.father != clickInfo.father && clickInfo.son == -1) {\n        this.$forceUpdate();\n        return;\n      }\n      this.close(this.lastClick.father);\n      this.open(clickInfo.father);\n      this.lastClick = clickInfo;\n      this.$forceUpdate();\n    }\n  },\n  created() {\n    for (let i = 0; i < this.firstMenuInfos.length; i++) {\n      this.ifClick.push(false);\n      this.ifCloseSon.push(true);\n    }\n  }\n};","map":{"version":3,"names":["firstMenu","components","props","data","lastClick","ifClick","ifCloseSon","methods","open","num","close","init","i","firstMenuInfos","length","clickNumMethod","clickInfo","console","log","static","father","$forceUpdate","son","created","push"],"sources":["src/components/total-menu.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <!-- {{ menuInfo }} -->\r\n    <div v-for=\"(pr, index) in firstMenuInfos\" :key=\"index\">\r\n        <firstMenu\r\n            :firstMenuInfo=\"pr\" :secondMenuInfos=\"secondMenuInfos[index]\" @ClickSecondMenu=\"clickNumMethod\"\r\n            :ifCloseSon=\"ifCloseSon[index]\" :ifClick=\"ifClick[index]\">\r\n        </firstMenu>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport firstMenu from './first-menu.vue'\r\nexport default {\r\n    components : {\r\n        firstMenu\r\n    },\r\n    props : ['firstMenuInfos', \"secondMenuInfos\"],\r\n    data() {\r\n        return {\r\n            lastClick : {\r\n                \"father\" : -1,\r\n                \"son\" : -1,\r\n                \"static\" : false\r\n            },\r\n            ifClick : [],\r\n            ifCloseSon : []\r\n        }\r\n    },\r\n    methods: {\r\n        // 以下四个函数均是为了解决点击颜色错乱的情况\r\n        open(num) {\r\n            this.ifClick[num - 1] = true\r\n            this.ifCloseSon[num - 1] = false\r\n        },\r\n        close(num) {\r\n            this.ifClick[num - 1] = false\r\n            this.ifCloseSon[num - 1] = true\r\n        },\r\n        init() {\r\n            for(let i = 0 ; i < this.firstMenuInfos.length ; i ++){\r\n                this.ifClick[i] = false\r\n                this.ifCloseSon[i] = true\r\n            }\r\n            this.lastClick = {\r\n                \"father\" : -1,\r\n                \"son\" : -1,\r\n                \"static\" : false\r\n            }\r\n        },\r\n        clickNumMethod(clickInfo) {\r\n            console.log(clickInfo)\r\n            if(!clickInfo.static){\r\n                if(this.lastClick.father == clickInfo.father)\r\n                    this.init()\r\n                this.$forceUpdate()\r\n                return\r\n            }\r\n            if(this.lastClick.father == -1){\r\n                this.open(clickInfo.father)\r\n                this.lastClick = clickInfo\r\n                this.$forceUpdate()\r\n                return\r\n            }\r\n            if(this.lastClick.father != clickInfo.father && clickInfo.son == -1){\r\n                this.$forceUpdate()\r\n                return\r\n            }\r\n            this.close(this.lastClick.father)\r\n            this.open(clickInfo.father)\r\n            this.lastClick = clickInfo\r\n            this.$forceUpdate()\r\n        }\r\n       \r\n    },\r\n    created() {\r\n        for(let i = 0 ; i < this.firstMenuInfos.length ; i++){\r\n            this.ifClick.push(false)\r\n            this.ifCloseSon.push(true)\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"],"mappings":";AAaA,OAAAA,SAAA;AACA;EACAC,UAAA;IACAD;EACA;EACAE,KAAA;EACAC,KAAA;IACA;MACAC,SAAA;QACA;QACA;QACA;MACA;MACAC,OAAA;MACAC,UAAA;IACA;EACA;EACAC,OAAA;IACA;IACAC,KAAAC,GAAA;MACA,KAAAJ,OAAA,CAAAI,GAAA;MACA,KAAAH,UAAA,CAAAG,GAAA;IACA;IACAC,MAAAD,GAAA;MACA,KAAAJ,OAAA,CAAAI,GAAA;MACA,KAAAH,UAAA,CAAAG,GAAA;IACA;IACAE,KAAA;MACA,SAAAC,CAAA,MAAAA,CAAA,QAAAC,cAAA,CAAAC,MAAA,EAAAF,CAAA;QACA,KAAAP,OAAA,CAAAO,CAAA;QACA,KAAAN,UAAA,CAAAM,CAAA;MACA;MACA,KAAAR,SAAA;QACA;QACA;QACA;MACA;IACA;IACAW,eAAAC,SAAA;MACAC,OAAA,CAAAC,GAAA,CAAAF,SAAA;MACA,KAAAA,SAAA,CAAAG,MAAA;QACA,SAAAf,SAAA,CAAAgB,MAAA,IAAAJ,SAAA,CAAAI,MAAA,EACA,KAAAT,IAAA;QACA,KAAAU,YAAA;QACA;MACA;MACA,SAAAjB,SAAA,CAAAgB,MAAA;QACA,KAAAZ,IAAA,CAAAQ,SAAA,CAAAI,MAAA;QACA,KAAAhB,SAAA,GAAAY,SAAA;QACA,KAAAK,YAAA;QACA;MACA;MACA,SAAAjB,SAAA,CAAAgB,MAAA,IAAAJ,SAAA,CAAAI,MAAA,IAAAJ,SAAA,CAAAM,GAAA;QACA,KAAAD,YAAA;QACA;MACA;MACA,KAAAX,KAAA,MAAAN,SAAA,CAAAgB,MAAA;MACA,KAAAZ,IAAA,CAAAQ,SAAA,CAAAI,MAAA;MACA,KAAAhB,SAAA,GAAAY,SAAA;MACA,KAAAK,YAAA;IACA;EAEA;EACAE,QAAA;IACA,SAAAX,CAAA,MAAAA,CAAA,QAAAC,cAAA,CAAAC,MAAA,EAAAF,CAAA;MACA,KAAAP,OAAA,CAAAmB,IAAA;MACA,KAAAlB,UAAA,CAAAkB,IAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}