{"ast":null,"code":"/**\n * @fileoverview Disallow renaming import, export, and destructured assignments to the same name.\n * @author Kai Cataldo\n */\n\n\"use strict\";\n\n//------------------------------------------------------------------------------\n// Requirements\n//------------------------------------------------------------------------------\nconst astUtils = require(\"./utils/ast-utils\");\n\n//------------------------------------------------------------------------------\n// Rule Definition\n//------------------------------------------------------------------------------\n\nmodule.exports = {\n  meta: {\n    type: \"suggestion\",\n    docs: {\n      description: \"disallow renaming import, export, and destructured assignments to the same name\",\n      category: \"ECMAScript 6\",\n      recommended: false,\n      url: \"https://eslint.org/docs/rules/no-useless-rename\"\n    },\n    fixable: \"code\",\n    schema: [{\n      type: \"object\",\n      properties: {\n        ignoreDestructuring: {\n          type: \"boolean\",\n          default: false\n        },\n        ignoreImport: {\n          type: \"boolean\",\n          default: false\n        },\n        ignoreExport: {\n          type: \"boolean\",\n          default: false\n        }\n      },\n      additionalProperties: false\n    }],\n    messages: {\n      unnecessarilyRenamed: \"{{type}} {{name}} unnecessarily renamed.\"\n    }\n  },\n  create(context) {\n    const sourceCode = context.getSourceCode(),\n      options = context.options[0] || {},\n      ignoreDestructuring = options.ignoreDestructuring === true,\n      ignoreImport = options.ignoreImport === true,\n      ignoreExport = options.ignoreExport === true;\n\n    //--------------------------------------------------------------------------\n    // Helpers\n    //--------------------------------------------------------------------------\n\n    /**\n     * Reports error for unnecessarily renamed assignments\n     * @param {ASTNode} node node to report\n     * @param {ASTNode} initial node with initial name value\n     * @param {string} type the type of the offending node\n     * @returns {void}\n     */\n    function reportError(node, initial, type) {\n      const name = initial.type === \"Identifier\" ? initial.name : initial.value;\n      return context.report({\n        node,\n        messageId: \"unnecessarilyRenamed\",\n        data: {\n          name,\n          type\n        },\n        fix(fixer) {\n          const replacementNode = node.type === \"Property\" ? node.value : node.local;\n          if (sourceCode.getCommentsInside(node).length > sourceCode.getCommentsInside(replacementNode).length) {\n            return null;\n          }\n\n          // Don't autofix code such as `({foo: (foo) = a} = obj);`, parens are not allowed in shorthand properties.\n          if (replacementNode.type === \"AssignmentPattern\" && astUtils.isParenthesised(sourceCode, replacementNode.left)) {\n            return null;\n          }\n          return fixer.replaceText(node, sourceCode.getText(replacementNode));\n        }\n      });\n    }\n\n    /**\n     * Checks whether a destructured assignment is unnecessarily renamed\n     * @param {ASTNode} node node to check\n     * @returns {void}\n     */\n    function checkDestructured(node) {\n      if (ignoreDestructuring) {\n        return;\n      }\n      for (const property of node.properties) {\n        /**\n         * Properties using shorthand syntax and rest elements can not be renamed.\n         * If the property is computed, we have no idea if a rename is useless or not.\n         */\n        if (property.type !== \"Property\" || property.shorthand || property.computed) {\n          continue;\n        }\n        const key = property.key.type === \"Identifier\" && property.key.name || property.key.type === \"Literal\" && property.key.value;\n        const renamedKey = property.value.type === \"AssignmentPattern\" ? property.value.left.name : property.value.name;\n        if (key === renamedKey) {\n          reportError(property, property.key, \"Destructuring assignment\");\n        }\n      }\n    }\n\n    /**\n     * Checks whether an import is unnecessarily renamed\n     * @param {ASTNode} node node to check\n     * @returns {void}\n     */\n    function checkImport(node) {\n      if (ignoreImport) {\n        return;\n      }\n      if (node.imported.name === node.local.name && node.imported.range[0] !== node.local.range[0]) {\n        reportError(node, node.imported, \"Import\");\n      }\n    }\n\n    /**\n     * Checks whether an export is unnecessarily renamed\n     * @param {ASTNode} node node to check\n     * @returns {void}\n     */\n    function checkExport(node) {\n      if (ignoreExport) {\n        return;\n      }\n      if (node.local.name === node.exported.name && node.local.range[0] !== node.exported.range[0]) {\n        reportError(node, node.local, \"Export\");\n      }\n    }\n\n    //--------------------------------------------------------------------------\n    // Public\n    //--------------------------------------------------------------------------\n\n    return {\n      ObjectPattern: checkDestructured,\n      ImportSpecifier: checkImport,\n      ExportSpecifier: checkExport\n    };\n  }\n};","map":{"version":3,"names":["astUtils","require","module","exports","meta","type","docs","description","category","recommended","url","fixable","schema","properties","ignoreDestructuring","default","ignoreImport","ignoreExport","additionalProperties","messages","unnecessarilyRenamed","create","context","sourceCode","getSourceCode","options","reportError","node","initial","name","value","report","messageId","data","fix","fixer","replacementNode","local","getCommentsInside","length","isParenthesised","left","replaceText","getText","checkDestructured","property","shorthand","computed","key","renamedKey","checkImport","imported","range","checkExport","exported","ObjectPattern","ImportSpecifier","ExportSpecifier"],"sources":["D:/Project/YM~Cloud/cloud-front/node_modules/eslint/lib/rules/no-useless-rename.js"],"sourcesContent":["/**\n * @fileoverview Disallow renaming import, export, and destructured assignments to the same name.\n * @author Kai Cataldo\n */\n\n\"use strict\";\n\n//------------------------------------------------------------------------------\n// Requirements\n//------------------------------------------------------------------------------\n\nconst astUtils = require(\"./utils/ast-utils\");\n\n//------------------------------------------------------------------------------\n// Rule Definition\n//------------------------------------------------------------------------------\n\nmodule.exports = {\n    meta: {\n        type: \"suggestion\",\n\n        docs: {\n            description: \"disallow renaming import, export, and destructured assignments to the same name\",\n            category: \"ECMAScript 6\",\n            recommended: false,\n            url: \"https://eslint.org/docs/rules/no-useless-rename\"\n        },\n\n        fixable: \"code\",\n\n        schema: [\n            {\n                type: \"object\",\n                properties: {\n                    ignoreDestructuring: { type: \"boolean\", default: false },\n                    ignoreImport: { type: \"boolean\", default: false },\n                    ignoreExport: { type: \"boolean\", default: false }\n                },\n                additionalProperties: false\n            }\n        ],\n\n        messages: {\n            unnecessarilyRenamed: \"{{type}} {{name}} unnecessarily renamed.\"\n        }\n    },\n\n    create(context) {\n        const sourceCode = context.getSourceCode(),\n            options = context.options[0] || {},\n            ignoreDestructuring = options.ignoreDestructuring === true,\n            ignoreImport = options.ignoreImport === true,\n            ignoreExport = options.ignoreExport === true;\n\n        //--------------------------------------------------------------------------\n        // Helpers\n        //--------------------------------------------------------------------------\n\n        /**\n         * Reports error for unnecessarily renamed assignments\n         * @param {ASTNode} node node to report\n         * @param {ASTNode} initial node with initial name value\n         * @param {string} type the type of the offending node\n         * @returns {void}\n         */\n        function reportError(node, initial, type) {\n            const name = initial.type === \"Identifier\" ? initial.name : initial.value;\n\n            return context.report({\n                node,\n                messageId: \"unnecessarilyRenamed\",\n                data: {\n                    name,\n                    type\n                },\n                fix(fixer) {\n                    const replacementNode = node.type === \"Property\" ? node.value : node.local;\n\n                    if (sourceCode.getCommentsInside(node).length > sourceCode.getCommentsInside(replacementNode).length) {\n                        return null;\n                    }\n\n                    // Don't autofix code such as `({foo: (foo) = a} = obj);`, parens are not allowed in shorthand properties.\n                    if (\n                        replacementNode.type === \"AssignmentPattern\" &&\n                        astUtils.isParenthesised(sourceCode, replacementNode.left)\n                    ) {\n                        return null;\n                    }\n\n                    return fixer.replaceText(node, sourceCode.getText(replacementNode));\n                }\n            });\n        }\n\n        /**\n         * Checks whether a destructured assignment is unnecessarily renamed\n         * @param {ASTNode} node node to check\n         * @returns {void}\n         */\n        function checkDestructured(node) {\n            if (ignoreDestructuring) {\n                return;\n            }\n\n            for (const property of node.properties) {\n\n                /**\n                 * Properties using shorthand syntax and rest elements can not be renamed.\n                 * If the property is computed, we have no idea if a rename is useless or not.\n                 */\n                if (property.type !== \"Property\" || property.shorthand || property.computed) {\n                    continue;\n                }\n\n                const key = (property.key.type === \"Identifier\" && property.key.name) || (property.key.type === \"Literal\" && property.key.value);\n                const renamedKey = property.value.type === \"AssignmentPattern\" ? property.value.left.name : property.value.name;\n\n                if (key === renamedKey) {\n                    reportError(property, property.key, \"Destructuring assignment\");\n                }\n            }\n        }\n\n        /**\n         * Checks whether an import is unnecessarily renamed\n         * @param {ASTNode} node node to check\n         * @returns {void}\n         */\n        function checkImport(node) {\n            if (ignoreImport) {\n                return;\n            }\n\n            if (node.imported.name === node.local.name &&\n                    node.imported.range[0] !== node.local.range[0]) {\n                reportError(node, node.imported, \"Import\");\n            }\n        }\n\n        /**\n         * Checks whether an export is unnecessarily renamed\n         * @param {ASTNode} node node to check\n         * @returns {void}\n         */\n        function checkExport(node) {\n            if (ignoreExport) {\n                return;\n            }\n\n            if (node.local.name === node.exported.name &&\n                    node.local.range[0] !== node.exported.range[0]) {\n                reportError(node, node.local, \"Export\");\n            }\n\n        }\n\n        //--------------------------------------------------------------------------\n        // Public\n        //--------------------------------------------------------------------------\n\n        return {\n            ObjectPattern: checkDestructured,\n            ImportSpecifier: checkImport,\n            ExportSpecifier: checkExport\n        };\n    }\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}