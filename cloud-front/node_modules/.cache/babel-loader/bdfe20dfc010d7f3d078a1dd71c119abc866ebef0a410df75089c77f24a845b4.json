{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport secondMenu from '@/components/general/second-menu.vue';\nexport default {\n  components: {\n    secondMenu\n  },\n  props: ['firstMenuInfo', 'secondMenuInfos', 'ifClick', 'ifCloseSon'],\n  data() {\n    return {\n      lastClick: -1,\n      ifOpen: false,\n      nowPic: \"\",\n      ifLight: []\n    };\n  },\n  methods: {\n    // 当儿子被点击的时候执行的方法， 获取儿子的编号， 会返回父亲编号以及儿子编号\n    clickNumMethod(keyValue) {\n      if (this.lastClick != -1) this.ifLight[this.lastClick - 1] = false;\n      this.lastClick = keyValue;\n      this.ifLight[keyValue - 1] = true;\n      this.$emit(\"ClickSecondMenu\", {\n        \"father\": this.firstMenuInfo.firstMenuKey,\n        \"son\": keyValue,\n        \"static\": this.ifOpen\n      });\n      this.$forceUpdate();\n    },\n    // 翻转箭头\n    flipArrow() {\n      if (!this.firstMenuInfo.ifHaveSecondMenu) {\n        return;\n      }\n      let ele = this.$refs.arrr;\n      if (this.ifOpen) ele.style.transform = \"rotate(0deg)\";else ele.style.transform = \"rotate(-90deg)\";\n    },\n    // 修改标签的图片\n    changeMenuImg() {\n      if (this.ifOpen) this.nowPic = this.firstMenuInfo.openImgSrc;else this.nowPic = this.firstMenuInfo.imgSrc;\n    },\n    //打开二级菜单, 单击标题栏会返回父亲编号并且儿子编号为 -1\n    OpenSecondMenu() {\n      this.ifOpen = !this.ifOpen;\n      this.flipArrow();\n      this.changeMenuImg();\n      this.$emit(\"ClickSecondMenu\", {\n        \"father\": this.firstMenuInfo.firstMenuKey,\n        \"son\": -1,\n        \"static\": this.ifOpen\n      });\n    }\n  },\n  created() {\n    this.nowPic = this.firstMenuInfo.imgSrc;\n    console.log(this.secondMenuInfos);\n    for (let i = 0; i < this.secondMenuInfos.length; i++) this.ifLight.push(false);\n  },\n  watch: {\n    //监测ifClick， 如果为true， 就会高亮该标签\n    ifClick(newValue) {\n      let ele = this.$refs.name;\n      if (newValue) {\n        ele.style.color = \"#DB8850\";\n        ele.style.fontWeight = \"700\";\n      } else {\n        ele.style.color = \"#A8A8AC\";\n        ele.style.fontWeight = \"500\";\n      }\n    },\n    //监测ifCloseSon， 如果为true， 就把ifLight全部置为false， 即儿子全部熄灭\n    ifCloseSon(newValue) {\n      if (typeof this.secondMenuInfos) if (newValue) {\n        for (let i = 0; i < this.secondMenuInfos.length; i++) this.ifLight[i] = false;\n        this.$forceUpdate();\n      }\n    }\n  }\n};","map":{"version":3,"names":["secondMenu","components","props","data","lastClick","ifOpen","nowPic","ifLight","methods","clickNumMethod","keyValue","$emit","firstMenuInfo","firstMenuKey","$forceUpdate","flipArrow","ifHaveSecondMenu","ele","$refs","arrr","style","transform","changeMenuImg","openImgSrc","imgSrc","OpenSecondMenu","created","console","log","secondMenuInfos","i","length","push","watch","ifClick","newValue","name","color","fontWeight","ifCloseSon"],"sources":["src/components/general/first-menu.vue"],"sourcesContent":["<template>\r\n    <div class=\"area\">\r\n        <!-- {{ menuInfo.secondInfo }} -->\r\n        <div class=\"top\" @click=\"OpenSecondMenu\">\r\n            <img class=\"img1\" :src=\"nowPic\" ref=\"iimg\">\r\n            <div class=\"name\" ref=\"name\">{{ firstMenuInfo.name }}</div>\r\n            <img class=\"img2\" src=\"@/assets/general/arrow.png\" ref=\"arrr\" v-if=\"firstMenuInfo.ifHaveSecondMenu\">    \r\n        </div>\r\n        <div class=\"bottom\" v-if=\"ifOpen && firstMenuInfo.ifHaveSecondMenu\">\r\n            <div v-for='(pr, index) in secondMenuInfos' :key=\"pr.secondMenuKey\" >\r\n                <secondMenu\r\n                    :menukey=\"pr.secondMenuKey\" @ifClick=\"clickNumMethod\" :light=\"ifLight[index]\">\r\n                    {{ pr.name }}\r\n                </secondMenu>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport secondMenu from '@/components/general/second-menu.vue'\r\nexport default {\r\n    components: {secondMenu},\r\n    props : ['firstMenuInfo', 'secondMenuInfos', 'ifClick', 'ifCloseSon'],\r\n    data() {\r\n        return {\r\n            lastClick : -1,\r\n            ifOpen : false,\r\n            nowPic : \"\",\r\n            ifLight : []\r\n        }\r\n    },\r\n    methods: {\r\n        // 当儿子被点击的时候执行的方法， 获取儿子的编号， 会返回父亲编号以及儿子编号\r\n        clickNumMethod(keyValue) {\r\n            if(this.lastClick != -1)\r\n                this.ifLight[this.lastClick - 1] = false\r\n            this.lastClick = keyValue\r\n            this.ifLight[keyValue - 1] = true\r\n            this.$emit(\"ClickSecondMenu\", {\r\n                \"father\" : this.firstMenuInfo.firstMenuKey, \"son\" : keyValue, \"static\" : this.ifOpen\r\n            })\r\n            this.$forceUpdate()\r\n        },\r\n        // 翻转箭头\r\n        flipArrow() {\r\n            if(! this.firstMenuInfo.ifHaveSecondMenu){\r\n                return\r\n            }\r\n            let ele = this.$refs.arrr\r\n            if(this.ifOpen)\r\n                ele.style.transform = \"rotate(0deg)\"\r\n            else\r\n                ele.style.transform = \"rotate(-90deg)\"\r\n        },\r\n        // 修改标签的图片\r\n        changeMenuImg() {\r\n            if(this.ifOpen) this.nowPic = this.firstMenuInfo.openImgSrc\r\n            else this.nowPic = this.firstMenuInfo.imgSrc\r\n        },\r\n        //打开二级菜单, 单击标题栏会返回父亲编号并且儿子编号为 -1\r\n        OpenSecondMenu() {\r\n            this.ifOpen = ! this.ifOpen\r\n            this.flipArrow()\r\n            this.changeMenuImg()\r\n            this.$emit(\"ClickSecondMenu\", {\r\n                \"father\" : this.firstMenuInfo.firstMenuKey, \"son\" : -1, \"static\" : this.ifOpen\r\n            })\r\n        }\r\n    },\r\n    created() {\r\n        this.nowPic = this.firstMenuInfo.imgSrc\r\n        console.log(this.secondMenuInfos)\r\n        for(let i = 0 ; i < this.secondMenuInfos.length ; i++)\r\n            this.ifLight.push(false)\r\n    },\r\n    watch: {\r\n        //监测ifClick， 如果为true， 就会高亮该标签\r\n        ifClick(newValue){\r\n            let ele = this.$refs.name\r\n            if(newValue){\r\n                ele.style.color = \"#DB8850\"\r\n                ele.style.fontWeight = \"700\"\r\n            }else{\r\n                ele.style.color = \"#A8A8AC\"\r\n                ele.style.fontWeight = \"500\"\r\n            }\r\n        },\r\n        //监测ifCloseSon， 如果为true， 就把ifLight全部置为false， 即儿子全部熄灭\r\n        ifCloseSon(newValue){\r\n            if(typeof(this.secondMenuInfos))\r\n            if(newValue){\r\n                for(let i = 0 ; i < this.secondMenuInfos.length ; i++)\r\n                    this.ifLight[i] = false\r\n                this.$forceUpdate()\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n    *{\r\n        user-select: none;\r\n    }\r\n    .top{\r\n        width: 170px;\r\n        height: 21px;\r\n        margin-top: 15px;\r\n        margin-left: 15px;\r\n    }\r\n    .img1{\r\n        width: 21px;\r\n        height: 21px;\r\n        float: left;\r\n        background-size: 100% 100%;\r\n    }\r\n    .name{\r\n        width: 77.7px;\r\n        height: 20.3px;\r\n        display: flex;\r\n        /* justify-content: center; */\r\n        align-items: center;\r\n        color: #A8A8AC;\r\n        font-size: 14px;\r\n        float: left;\r\n        margin-left: 16px;\r\n    }\r\n    .bottom{\r\n        margin-top: 10px;\r\n    }\r\n    .img2{\r\n        width: 14px;\r\n        height: 14px;\r\n        float: right;\r\n        background-size: 100% 100%;\r\n        transform: rotate(-90deg);\r\n        margin-top: 5.6px;\r\n        margin-right: 7px;\r\n    }\r\n</style>"],"mappings":";AAoBA,OAAAA,UAAA;AACA;EACAC,UAAA;IAAAD;EAAA;EACAE,KAAA;EACAC,KAAA;IACA;MACAC,SAAA;MACAC,MAAA;MACAC,MAAA;MACAC,OAAA;IACA;EACA;EACAC,OAAA;IACA;IACAC,eAAAC,QAAA;MACA,SAAAN,SAAA,QACA,KAAAG,OAAA,MAAAH,SAAA;MACA,KAAAA,SAAA,GAAAM,QAAA;MACA,KAAAH,OAAA,CAAAG,QAAA;MACA,KAAAC,KAAA;QACA,eAAAC,aAAA,CAAAC,YAAA;QAAA,OAAAH,QAAA;QAAA,eAAAL;MACA;MACA,KAAAS,YAAA;IACA;IACA;IACAC,UAAA;MACA,UAAAH,aAAA,CAAAI,gBAAA;QACA;MACA;MACA,IAAAC,GAAA,QAAAC,KAAA,CAAAC,IAAA;MACA,SAAAd,MAAA,EACAY,GAAA,CAAAG,KAAA,CAAAC,SAAA,uBAEAJ,GAAA,CAAAG,KAAA,CAAAC,SAAA;IACA;IACA;IACAC,cAAA;MACA,SAAAjB,MAAA,OAAAC,MAAA,QAAAM,aAAA,CAAAW,UAAA,MACA,KAAAjB,MAAA,QAAAM,aAAA,CAAAY,MAAA;IACA;IACA;IACAC,eAAA;MACA,KAAApB,MAAA,SAAAA,MAAA;MACA,KAAAU,SAAA;MACA,KAAAO,aAAA;MACA,KAAAX,KAAA;QACA,eAAAC,aAAA,CAAAC,YAAA;QAAA;QAAA,eAAAR;MACA;IACA;EACA;EACAqB,QAAA;IACA,KAAApB,MAAA,QAAAM,aAAA,CAAAY,MAAA;IACAG,OAAA,CAAAC,GAAA,MAAAC,eAAA;IACA,SAAAC,CAAA,MAAAA,CAAA,QAAAD,eAAA,CAAAE,MAAA,EAAAD,CAAA,IACA,KAAAvB,OAAA,CAAAyB,IAAA;EACA;EACAC,KAAA;IACA;IACAC,QAAAC,QAAA;MACA,IAAAlB,GAAA,QAAAC,KAAA,CAAAkB,IAAA;MACA,IAAAD,QAAA;QACAlB,GAAA,CAAAG,KAAA,CAAAiB,KAAA;QACApB,GAAA,CAAAG,KAAA,CAAAkB,UAAA;MACA;QACArB,GAAA,CAAAG,KAAA,CAAAiB,KAAA;QACApB,GAAA,CAAAG,KAAA,CAAAkB,UAAA;MACA;IACA;IACA;IACAC,WAAAJ,QAAA;MACA,gBAAAN,eAAA,EACA,IAAAM,QAAA;QACA,SAAAL,CAAA,MAAAA,CAAA,QAAAD,eAAA,CAAAE,MAAA,EAAAD,CAAA,IACA,KAAAvB,OAAA,CAAAuB,CAAA;QACA,KAAAhB,YAAA;MACA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}